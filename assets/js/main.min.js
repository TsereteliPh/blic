"use strict";function get_siblings(t){var o=[];if(t.parentNode){let e=t.parentNode.firstChild;for(;e;)1===e.nodeType&&e!==t&&o.push(e),e=e.nextSibling}return o}function slideToggle(e){0===e.offsetHeight?e.style.maxHeight=e.scrollHeight+"px":e.style.maxHeight=0}function setHeaderScrollClass(){const e=document.querySelector(".header");window.addEventListener("scroll",function(){window.scrollY>=e.offsetHeight?e.classList.add("scroll"):e.classList.remove("scroll")})}function setTelMask(){document.querySelectorAll("input[type='tel']").forEach(t=>{t.addEventListener("keydown",function(e){t.value=function(e){if(!e)return e;e=e.replace(/[^\d]/g,"");if(e.length<4)return"+"+e;if(e.length<7)return`+${e.slice(0,3)} `+e.slice(3);return`+${e.slice(0,3)} ${e.slice(3,6)} `+e.slice(6)}(t.value)}),t.addEventListener("focus",function(e){t.value||(t.value="+")}),t.addEventListener("blur",function(e){"+"===t.value&&(t.value="")})})}function sendForm(){document.querySelectorAll("form[name]").forEach(function(e){e.addEventListener("submit",function(e){e.preventDefault();const t=this;this.classList.add("loader");let o=new FormData(t);var e=t.name,s=t.querySelector("input[type=file]");o.append("action","send_mail"),e&&(o.append("form_name",e),s&&Array.from(s.files).forEach((e,t)=>{o.append(t.toString(),e)}),fetch(tsereteli_ajax.url,{method:"POST",body:o}).then(e=>e.text()).then(e=>{this.classList.remove("loader"),Fancybox.close(!0),t.reset(),setTimeout(function(){Fancybox.show([{src:"#success",type:"inline"}])},100)}).catch(e=>{console.error("Error:",e)}))})})}function setFileName(){var e=document.querySelectorAll("input[type=file]");e&&e.forEach(function(e){e.addEventListener("change",function(e){e.target.nextElementSibling.textContent=e.target.files[0].name})})}function tabs(){var e=document.querySelectorAll(".js-tabs");e&&e.forEach(function(e){var o;(o=e).addEventListener("click",function(e){var t=e.target.closest("li");t.classList.contains("active")&&t.parentNode.classList.toggle("open"),t.classList.contains("active")||e.target===o||(e=t,t=document.querySelector("#"+e.getAttribute("data-tab")),e.classList.add("active"),get_siblings(e).forEach(function(e){e.classList.remove("active")}),t.classList.add("active"),get_siblings(t).forEach(function(e){e.classList.remove("active")}),e.parentNode.classList.remove("open"))})})}function showMorePosts(){var e=document.querySelector(".js-show-more");e&&e.addEventListener("click",function(e){e.stopImmediatePropagation();const t=document.querySelector(".js-show-more-container");this.textContent="Загрузка...";fetch(tsereteli_ajax.url,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},body:new URLSearchParams({action:"load_more",query:posts,page:current_page})}).then(e=>e.text()).then(e=>{this.innerHTML=this.dataset.text,t.insertAdjacentHTML("beforeend",e),++current_page===max_pages&&this.remove()}).catch(e=>{console.error("Error:",e)})})}document.addEventListener("DOMContentLoaded",function(){setHeaderScrollClass(),setFileName(),sendForm(),setTelMask(),tabs(),showMorePosts()});try{Fancybox.bind("[data-fancybox]",{animated:!1}),Fancybox.bind('[data-src="#order-calc"]',{defaultDisplay:"block",dragToClose:!1})}catch(e){console.log(e)}const restCarousel=document.querySelector(".rest__wrapper");if(restCarousel){let e=new Swiper(restCarousel,{navigation:{nextEl:".rest__next",prevEl:".rest__prev"},breakpoints:{1440:{slidesPerView:4,centeredSlides:!1},992:{slidesPerView:3,centeredSlides:!1},769:{slidesPerView:2,centeredSlides:!1},577:{centeredSlides:!1}},slidesPerView:"auto",centeredSlides:!0,spaceBetween:25})}document.addEventListener("DOMContentLoaded",function(e){const t=document.querySelector(".header");if(t){const o=t.querySelector(".header__burger"),s=t.querySelector(".header__drop");o.addEventListener("click",function(){this.classList.contains("active")?(t.classList.remove("active"),o.classList.remove("active"),s.style.maxHeight=0,document.body.style.overflow="visible"):(t.classList.add("active"),o.classList.add("active"),s.style.maxHeight=s.scrollHeight+"px",document.body.style.overflow="hidden")})}});let accordion=document.querySelector(".accordion");if(accordion=accordion&&accordion.classList.contains("accordion--full-size")&&992<=window.innerWidth?!1:accordion){const ca=accordion.querySelectorAll(".accordion__button"),da=()=>{for(var e of ca)e.classList.remove("active"),e.nextElementSibling.style.maxHeight=0};ca.forEach(e=>{e.addEventListener("click",function(){this.classList.contains("active")?da():(da(),this.classList.add("active"),slideToggle(this.nextElementSibling))})})}const jobBtns=document.querySelectorAll(".jobs__modal"),modalCookies=(jobBtns&&jobBtns.forEach(e=>{e.addEventListener("click",function(){document.querySelector(this.dataset.src).querySelector("input[name=client_position]").value=this.dataset.position})}),document.querySelector(".modal--cookies"));if(sessionStorage.getItem("modal")&&modalCookies.classList.add("applied"),modalCookies&&!sessionStorage.getItem("modal")){setTimeout(()=>{modalCookies.classList.add("show")},2e3);const ja=modalCookies.querySelector(".modal__apply");ja.addEventListener("click",function(){modalCookies.classList.remove("show"),modalCookies.classList.add("applied"),sessionStorage.setItem("modal",1)})}